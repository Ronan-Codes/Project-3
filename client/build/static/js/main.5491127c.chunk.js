(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{102:function(e,a,t){e.exports=t(130)},110:function(e,a,t){},112:function(e,a,t){},117:function(e,a,t){},118:function(e,a,t){},119:function(e,a,t){},120:function(e,a,t){},130:function(e,a,t){"use strict";t.r(a);var n,r,l,s,o,i,c,m,u,d,p,f=t(0),g=t.n(f),b=t(85),h=t.n(b),v=(t(79),t(38)),E=t(25),N=t(10),j=t(43),w=t(138),O=t(137),k=t(94),x=t(92),P=t(4),y=t(11),C=t.n(y),I=t(18),S=t(14),_=t(9),z=Object(_.a)(n||(n=Object(S.a)(["\nmutation addPhoto($photo: Upload!, $userId: String){\n    addPhoto(photo: $photo, userId: $userId)\n}\n"]))),$=Object(_.a)(r||(r=Object(S.a)(["\nmutation addProfilePhoto($photo: Upload!, $userId: String){\n    addProfilePhoto(photo: $photo, userId: $userId)\n}\n"]))),F=Object(_.a)(l||(l=Object(S.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),D=Object(_.a)(s||(s=Object(S.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username:$username, email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),U=Object(_.a)(o||(o=Object(S.a)(["\n  mutation updateUser($description: String) {\n    updateUser(description: $description) {\n      description\n    }\n  }\n"]))),W=Object(_.a)(i||(i=Object(S.a)(["\n    mutation addFollowing($id: ID!) {\n        addFollowing(followingId: $id) {\n            _id\n            username\n            followingCount\n            following {\n                _id\n                username\n            }\n        }\n    }\n"]))),L=Object(_.a)(c||(c=Object(S.a)(["\n    mutation unfollow($id: ID!) {\n        unfollow(followingId: $id) {\n            _id\n            username\n            followingCount\n            following {\n                _id\n                username\n            }\n        }\n    }\n"]))),A=Object(_.a)(m||(m=Object(S.a)(["\n    mutation addFollower($id: ID!) {\n        addFollower(followerId: $id) {\n            _id\n            username\n            followersCount\n            followers {\n                _id\n                username\n            }\n        }\n    }\n"]))),G=Object(_.a)(u||(u=Object(S.a)(["\n    mutation removeFollower($id: ID!) {\n        removeFollower(followerId: $id) {\n            _id\n            username\n            followersCount\n            followers {\n                _id\n                username\n            }\n        }\n    }\n"]))),T=Object(_.a)(d||(d=Object(S.a)(["\n  mutation addGenre($genreId: ID!) {\n    addGenre(genreId: $genreId) {\n      genres {\n        _id\n        name\n      }\n    }\n  }\n"]))),M=Object(_.a)(p||(p=Object(S.a)(["\n  mutation addGenre($genreId: ID!) {\n    removeGenre(genreId: $genreId) {\n      genres {\n        _id\n        name\n      }\n    }\n  }\n"]))),q=t(135),B=t(86),R=t(87),J=t(69),H=t.n(J),K=new(function(){function e(){Object(B.a)(this,e)}return Object(R.a)(e,[{key:"getProfile",value:function(){return H()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return H()(e).exp<Date.now()/1e3}catch(a){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),Q=(t(110),function(e){var a=Object(q.a)(F),t=Object(P.a)(a,2),n=t[0],r=(t[1].error,Object(f.useState)("")),l=Object(P.a)(r,2),s=l[0],o=l[1],i=Object(f.useState)(""),c=Object(P.a)(i,2),m=c[0],u=c[1],d=Object(f.useState)({email:"",password:""}),p=Object(P.a)(d,2),b=(p[0],p[1],function(){var e=Object(I.a)(C.a.mark((function e(a){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,n({variables:{email:m,password:s}});case 4:t=e.sent,r=t.data.login.token,K.login(r),window.location.assign("/dashboard"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:if(m&&s){e.next=16;break}return alert("Missing Email Address or Password"),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}());return g.a.createElement(g.a.Fragment,null,g.a.createElement("section",{class:"hero is-fullheight loginFormWrapper"},g.a.createElement("div",{class:"hero-body"},g.a.createElement("div",{class:"container"},g.a.createElement("div",{class:"columns is-centered"},g.a.createElement("div",{class:"column is-5-tablet is-4-desktop is-3-widescreen"},g.a.createElement("section",{class:"box"},g.a.createElement("div",{class:"loginForm"},g.a.createElement("div",{class:"field"},g.a.createElement("div",{class:"control has-icons-left"},g.a.createElement("input",{id:"loginEmail",type:"email",placeholder:"Email",class:"input",required:!0,value:m,onChange:function(e){return u(e.target.value)}}),g.a.createElement("span",{class:"icon is-small is-left"},g.a.createElement("i",{class:"fa fa-envelope"})))),g.a.createElement("div",{class:"field"},g.a.createElement("div",{class:"control has-icons-left"},g.a.createElement("input",{id:"loginPassword",type:"password",placeholder:"Password",class:"input",required:!0,value:s,onChange:function(e){return o(e.target.value)}}),g.a.createElement("span",{class:"icon is-small is-left"},g.a.createElement("i",{class:"fa fa-lock"})))),g.a.createElement("div",{class:"field has-text-centered"},g.a.createElement("button",{class:"button is-success",onClick:b},"Login"))),g.a.createElement("div",{class:"has-text-centered"},g.a.createElement("a",{onClick:function(){e.changeSignup(!0)}},"Signup?")))))))))}),V=(t(112),function(e){var a=Object(f.useState)(""),t=Object(P.a)(a,2),n=t[0],r=t[1],l=Object(f.useState)(""),s=Object(P.a)(l,2),o=s[0],i=s[1],c=Object(f.useState)(""),m=Object(P.a)(c,2),u=m[0],d=m[1],p=Object(q.a)(D),b=Object(P.a)(p,1)[0],h=function(){var e=Object(I.a)(C.a.mark((function e(a){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,b({variables:{username:n,email:u,password:o,description:""}});case 3:if(t=e.sent,r=t.data.addUser.token,K.login(r),window.location.assign("/dashboard"),u&&o&&n){e.next=10;break}return alert("Missing Email Address or Username or Password"),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,g.a.createElement("section",{class:"hero is-fullheight loginFormWrapper"},g.a.createElement("div",{class:"hero-body"},g.a.createElement("div",{class:"container"},g.a.createElement("div",{class:"columns is-centered"},g.a.createElement("div",{class:"column is-5-tablet is-4-desktop is-3-widescreen"},g.a.createElement("section",{class:"box"},g.a.createElement("div",{class:"signupForm"},g.a.createElement("div",{class:"field"},g.a.createElement("div",{class:"control has-icons-left"},g.a.createElement("input",{id:"signupUserName",type:"text",placeholder:"Username",class:"input",required:!0,value:n,onChange:function(e){return r(e.target.value)}}),g.a.createElement("span",{class:"icon is-small is-left"},g.a.createElement("i",{class:"fa fa-user"})))),g.a.createElement("div",{class:"field"},g.a.createElement("div",{class:"control has-icons-left"},g.a.createElement("input",{id:"signupEmail",type:"email",placeholder:"Email",class:"input",required:!0,value:u,onChange:function(e){return d(e.target.value)}}),g.a.createElement("span",{class:"icon is-small is-left"},g.a.createElement("i",{class:"fa fa-envelope"})))),g.a.createElement("div",{class:"field"},g.a.createElement("div",{class:"control has-icons-left"},g.a.createElement("input",{id:"signupPassword",type:"password",placeholder:"Password",class:"input",required:!0,value:o,onChange:function(e){return i(e.target.value)}}),g.a.createElement("span",{class:"icon is-small is-left"},g.a.createElement("i",{class:"fa fa-lock"})))),g.a.createElement("div",{class:"field has-text-centered"},g.a.createElement("button",{class:"button is-success",onClick:h},"Sign up"))),g.a.createElement("div",{class:"has-text-centered"},g.a.createElement("a",{onClick:function(){e.changeSignup(!1)}},"Login")))))))))}),X=function(){var e=Object(f.useState)(!1),a=Object(P.a)(e,2),t=a[0],n=a[1],r=function(e){n(e)};return g.a.createElement(g.a.Fragment,null,t?"":g.a.createElement(Q,{changeSignup:r}),t?g.a.createElement(V,{changeSignup:r}):"")};var Y=function(e){var a=e.children;return g.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},a)},Z=function(){return g.a.createElement("div",null,g.a.createElement(Y,null,g.a.createElement("h1",null,"404 Page Not Found")))},ee=t(56);var ae=function(e){var a=Object(f.useState)({email:"",password:""}),t=Object(P.a)(a,2),n=t[0],r=t[1],l=Object(q.a)(D),s=Object(P.a)(l,1)[0],o=function(){var e=Object(I.a)(C.a.mark((function e(a){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,s({variables:{email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName}});case 3:t=e.sent,r=t.data.addUser.token,K.login(r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=function(e){var a=e.target,t=a.name,l=a.value;r(Object(v.a)(Object(v.a)({},n),{},Object(ee.a)({},t,l)))};return g.a.createElement("div",{className:"container my-1"},g.a.createElement(E.b,{to:"/login"},"\u2190 Go to Login"),g.a.createElement("h2",null,"Signup"),g.a.createElement("form",{onSubmit:o},g.a.createElement("div",{className:"flex-row space-between my-2"},g.a.createElement("label",{htmlFor:"firstName"},"First Name:"),g.a.createElement("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:i})),g.a.createElement("div",{className:"flex-row space-between my-2"},g.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),g.a.createElement("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:i})),g.a.createElement("div",{className:"flex-row space-between my-2"},g.a.createElement("label",{htmlFor:"email"},"Email:"),g.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:i})),g.a.createElement("div",{className:"flex-row space-between my-2"},g.a.createElement("label",{htmlFor:"pwd"},"Password:"),g.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:i})),g.a.createElement("div",{className:"flex-row flex-end"},g.a.createElement("button",{type:"submit"},"Submit"))))};t(117);document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var a=e.dataset.target,t=document.getElementById(a);e.classList.toggle("is-active"),t.classList.toggle("is-active")}))}))}));var te=function(){var e=K.loggedIn();return g.a.createElement("nav",{className:"navbar mainNav",role:"navigation","aria-label":"main navigation"},g.a.createElement("div",{className:"navbar-brand"},g.a.createElement("div",{className:"navbar-item"},g.a.createElement("a",{href:"/dashboard"},g.a.createElement("h1",{className:"title appName has-text-light"},"Pic'd Up"))),g.a.createElement("a",{role:"button",className:"navbar-burger ","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},g.a.createElement("span",{"aria-hidden":"true"}),g.a.createElement("span",{"aria-hidden":"true"}),g.a.createElement("span",{"aria-hidden":"true"}))),g.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu mainNav"},g.a.createElement("div",{className:"navbar-start"}),g.a.createElement("div",{className:"navbar-end"},g.a.createElement("div",{className:"navbar-item "},g.a.createElement("div",{className:"buttons"},e?g.a.createElement(E.b,{className:"button clearColor",to:"/dashboard"},g.a.createElement("i",{className:"fas fa-home is-size-3 has-text-light"})):g.a.createElement(E.b,{className:"button clearColor",to:"/"},g.a.createElement("i",{className:"fas fa-home is-size-3 has-text-light"})),e?g.a.createElement(E.b,{className:"button clearColor",to:"/profile"},g.a.createElement("i",{className:"fas fa-user-circle is-size-3 has-text-light"})):"",e?g.a.createElement("a",{className:"button clearColor",onClick:function(e){e.preventDefault(),K.logout()}},g.a.createElement("i",{className:"fas fa-sign-in-alt is-size-3 has-text-light"})):"")))))},ne=t(61);var re,le,se,oe,ie=function(e){var a=Object(q.a)(z,{onCompleted:e.reloadFunc}),t=Object(P.a)(a,1)[0],n=K.getProfile(),r=Object(f.useCallback)((function(e){var a=Object(P.a)(e,1)[0];t({variables:{photo:a,userId:n.data._id}})}),[t]),l=Object(ne.a)({onDrop:r}),s=l.getRootProps,o=l.getInputProps,i=l.isDragActive;return g.a.createElement("div",s(),g.a.createElement("input",o()),i?g.a.createElement("p",null,"Drop Here..."):g.a.createElement("p",null,"Upload Photo"))},ce=t(136),me=(Object(_.a)(re||(re=Object(S.a)(["\n    {\n        photos {\n            _id\n            photoName\n            mimetype\n            encoding\n        }\n    }\n"]))),Object(_.a)(le||(le=Object(S.a)(["\nquery userPhotos($userId: ID!){\n    userPhotos(userId: $userId){\n        _id\n        username\n        description\n        email\n        profilePhoto{\n            _id\n        }\n        photos{\n            _id\n        }\n        following {\n            _id\n            username\n        }\n        followers {\n            _id\n            username\n        }\n        followingCount\n        followersCount\n        genres {\n            _id\n            name\n        }\n    }\n}\n"])))),ue=Object(_.a)(se||(se=Object(S.a)(["\n    {\n        users{\n            _id\n            description\n            username\n            profilePhoto{\n                _id\n            }\n            photos{\n                _id\n            }\n            following {\n                _id\n                username\n            }\n            followers {\n                _id\n                username\n            }\n            followingCount\n            followersCount\n            genres {\n                _id\n                name\n            }\n        }\n    }\n"]))),de=Object(_.a)(oe||(oe=Object(S.a)(["\n  {\n    genres {\n      _id\n      name\n    }\n  }\n"]))),pe=(t(118),function(e){var a=[],t=e.data.genres?e.data.genres:"";e.data.name&&e.data.name;t.map((function(e,t){a.push(e.name)}));var n=a.join(" | ");return g.a.createElement(g.a.Fragment,null,g.a.createElement("section",{className:"columns column is-four-fifths is-multiline mb-4"},g.a.createElement("div",{className:"column dropShadow whiteBg"},g.a.createElement("div",{className:"columns is-mobile"},g.a.createElement("div",{className:"column is-one-quarter searchedUserPicCont"},g.a.createElement(E.b,{to:"/photographer/".concat(e.data._id)},g.a.createElement("a",{href:"javascript:void(0);"},g.a.createElement("div",{className:""},g.a.createElement("div",{className:"imageContainer"},e.data.profilePhoto?g.a.createElement("img",{src:"/photo/".concat(e.data.profilePhoto._id),className:"profilePic profilePicCustomPadding portfolioImg",alt:"Profile picture"}):g.a.createElement("img",{src:"/images/Profiles/user.png",className:"profilePic profilePicCustomPadding portfolioImg",alt:"Profile picture"})),g.a.createElement("h2",{className:"has-text-centered is-size-4-tablet is-size-7-mobile"},e.data.username),g.a.createElement("h3",{className:"has-text-centered is-size-6-tablet has-text-grey searchedUserGenre dashboardGenreFont"},n))))),g.a.createElement("div",{className:"column is-three-quarters scrolling-wrapper is-vcentered"},g.a.createElement("div",{className:"columns column is-full is-vcentered is-mobile"},e.data.photos&&e.data.photos.length>0?e.data.photos.map((function(e,a){return g.a.createElement("div",{key:a,className:"column is-one-third-tablet is-one-third-mobile dashWrapper p-1"},g.a.createElement("div",{className:"dashContainer"},g.a.createElement("a",{href:"javascript:void(0);"},g.a.createElement("img",{className:"dashImg",src:"/photo/".concat(e._id),alt:"Portfolio photo"}))))})):""))))))}),fe=function(e){var a,t=Object(f.useState)(!1),n=Object(P.a)(t,2),r=(n[0],n[1],Object(f.useState)("all")),l=Object(P.a)(r,2),s=l[0],o=l[1],i=Object(f.useState)("genre"),c=Object(P.a)(i,2),m=c[0],u=c[1],d=Object(f.useState)([]),p=Object(P.a)(d,2),b=p[0],h=p[1],v=K.getProfile(),E=Object(ce.a)(me,{variables:{userId:v.data._id}}),N=E.loading,j=E.data;N||(a=j.userPhotos.following,j.userPhotos.followingCount,j.userPhotos.genres),console.log(a);var w,O=Object(ce.a)(de),k=O.loading,x=O.data;k||(w=x.genres);var y,C=Object(ce.a)(ue),I=C.loading,S=C.data,_=[];if(I)return g.a.createElement("p",null,"Loading...");y=S.users,console.log(y);for(var z=[],$=0;$<a.length;$++){var F=y.filter((function(e){return e._id===a[$]._id}));console.log(F),z.push(F[0])}return console.log(z),g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"columns is-centered is-gapless mt-4 is-multiline mx-2"},g.a.createElement("div",{className:"column is-four-fifths"},g.a.createElement("div",{className:"card mb-4"},g.a.createElement("header",{className:"card-header browseSortBg"},g.a.createElement("p",{className:"card-header-title is-centered has-text-light py-1"},"Browse")),g.a.createElement("div",{className:"card-content py-2"},g.a.createElement("div",{className:"content"},g.a.createElement("div",{className:"control has-text-centered"},g.a.createElement("label",{className:"radio"},g.a.createElement("input",{type:"radio",value:"all",name:"photographersSort",checked:"all"===s,onClick:function(){return o("all")}})," All"),g.a.createElement("label",{className:"radio"},g.a.createElement("input",{type:"radio",value:"following",name:"photographersSort",checked:"following"===s,onClick:function(){return o("following")}})," Following"),g.a.createElement("label",{className:"radio",onClick:function(){return o("genre")}},g.a.createElement("input",{type:"radio",value:"genre",name:"photographersSort",checked:"genre"===s,onClick:function(){return o("genre")}}),"\xa0",g.a.createElement("select",{className:"dropdown-content py-1",value:m,onChange:function(e){return function(e){u(e),_=[],h([]);for(var a=0;a<y.length;a++){for(var t=y[a],n=y[a].genres,r=0;r<n.length;r++){n[r]._id===e&&_.push(t)}h(_)}}(e.currentTarget.value)}},g.a.createElement("option",{href:"#",className:"",value:"genre"},"Genre"),w&&w.length>0?w.map((function(e,a){return g.a.createElement("option",{href:"#",className:"",key:e.name,value:e._id},e.name)})):""))))))),"following"===s&&z.map((function(e,a){return g.a.createElement(pe,{key:e.name,data:e})})),"all"===s&&S.users.map((function(e,a){return g.a.createElement(pe,{key:e.name,data:e})})),"genre"===s&&b.map((function(e,a){return g.a.createElement(pe,{key:e.name,data:e})}))))};var ge=function(e){var a=Object(q.a)($,{onCompleted:e.reloadFunc}),t=Object(P.a)(a,1)[0],n=K.getProfile(),r=Object(f.useCallback)((function(e){var a=Object(P.a)(e,1)[0];t({variables:{photo:a,userId:n.data._id}})}),[t]),l=Object(ne.a)({onDrop:r}),s=l.getRootProps,o=l.getInputProps;return l.isDragActive,g.a.createElement("div",s(),g.a.createElement("input",o()),g.a.createElement("i",{class:"fas fa-plus"}))},be=(t(119),function(e){var a,t,n,r,l,s,o=K.getProfile(),i=Object(ce.a)(me,{variables:{userId:o.data._id}}),c=i.loading,m=i.data,u=i.refetch,d=[],p="";if(!c){m.userPhotos._id,a=m.userPhotos.photos,t=m.userPhotos.email,n=m.userPhotos.username,r=m.userPhotos.profilePhoto,l=m.userPhotos.description,m.userPhotos.following,m.userPhotos.followers,m.userPhotos.followingCount,m.userPhotos.followersCount,s=m.userPhotos.genres;for(var b=0;b<s.length;b++)d.push(s[b].name);p=d.join(" | ")}console.log(d);var h,v=Object(f.useState)(""),E=Object(P.a)(v,2),N=(E[0],E[1],Object(f.useState)([])),j=Object(P.a)(N,2),w=(j[0],j[1],Object(f.useState)({name:"John Doe",profilePic:"/images/Profiles/LeesAdventures.jpg",email:"",isFavorite:!1,genres:["Portrait","Weddings","Street","Travel"],collection:[{type:"Portrait",images:["/images/portrait/pexels-ali-pazani-3196587.jpg","/images/portrait/pexels-ali-pazani-3196587.jpg","/images/portrait/pexels-ali-pazani-3196587.jpg","/images/portrait/pexels-ali-pazani-3196587.jpg","/images/portrait/pexels-ali-pazani-3196587.jpg","/images/portrait/pexels-ali-pazani-3196587.jpg"]},{type:"Weddings",images:["/images/portrait/pexels-bruno-salvadori-2269872.jpg","/images/portrait/pexels-bruno-salvadori-2269872.jpg","/images/portrait/pexels-bruno-salvadori-2269872.jpg","/images/portrait/pexels-bruno-salvadori-2269872.jpg","/images/portrait/pexels-bruno-salvadori-2269872.jpg","/images/portrait/pexels-bruno-salvadori-2269872.jpg"]},{type:"Street",images:["/images/portrait/pexels-cheda-stankovic-3395708.jpg","/images/portrait/pexels-cheda-stankovic-3395708.jpg","/images/portrait/pexels-cheda-stankovic-3395708.jpg","/images/portrait/pexels-cheda-stankovic-3395708.jpg","/images/portrait/pexels-cheda-stankovic-3395708.jpg","/images/portrait/pexels-cheda-stankovic-3395708.jpg"]},{type:"Travel",images:["/images/portrait/GinaPix.jpg","/images/portrait/GinaPix.jpg","/images/portrait/GinaPix.jpg","/images/portrait/GinaPix.jpg","/images/portrait/GinaPix.jpg","/images/portrait/GinaPix.jpg"]}]})),O=Object(P.a)(w,2),k=(O[0],O[1],Object(q.a)(U,{onCompleted:u})),x=Object(P.a)(k,2),y=x[0],S=(x[1].error,Object(f.useState)(!1)),_=Object(P.a)(S,2),z=_[0],$=_[1],F=z?"is-active":"",D=function(){$(!z)},W=Object(f.useState)({description:l}),L=Object(P.a)(W,2),A=L[0],G=L[1],B=function(){var e=Object(I.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,y({variables:{description:A.description}});case 3:t=e.sent,D(),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=Object(f.useState)(""),J=Object(P.a)(R,2),H=J[0],Q=J[1],V=Object(f.useState)(!1),X=Object(P.a)(V,2),Y=X[0],Z=X[1],ee=Y?"is-active":"",ae=function(){Z(!Y)},te=Object(ce.a)(de),ne=te.loading,re=te.data;ne||(h=re.genres);var le=Object(q.a)(T,{onCompleted:u}),se=Object(P.a)(le,2),oe=se[0],ue=se[1],pe=(ue.error,ue.reset,Object(q.a)(M,{onCompleted:u})),fe=Object(P.a)(pe,2),be=fe[0],he=(fe[1].error,function(){var e=Object(I.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({variables:{genreId:a}});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),ve=function(){var e=Object(I.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be({variables:{genreId:a}});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,c?g.a.createElement("div",null,"Some Loading Icon etc"):g.a.createElement(g.a.Fragment,null,g.a.createElement("header",{className:"columns is-centered is-gapless is-mobile pl-2"},g.a.createElement("div",{className:"column is-one-fifth-tablet is-one-third-mobile mt-2"},g.a.createElement("div",{className:""},g.a.createElement("div",{className:"imageContainer"},r?g.a.createElement("img",{src:"/photo/".concat(r._id),className:"profilePic p-3 portfolioImg",alt:"Profile picture"}):g.a.createElement("img",{src:"/images/Profiles/user.png",className:"profilePic p-3 portfolioImg",alt:"Profile picture"}),g.a.createElement("button",{className:"addProfile is-size-2-widescreen is-size-3-desktop is-size-5-tablet is-size-7-mobile"},g.a.createElement(ge,{reloadFunc:u},g.a.createElement("i",{className:"fas fa-plus"})))),g.a.createElement("div",{className:"has-text-centered is-centered"},g.a.createElement("div",{className:"modal ".concat(F)},g.a.createElement("div",{className:"modal-background",onClick:D}),g.a.createElement("div",{className:"modal-card editModalMobile"},g.a.createElement("header",{className:"modal-card-head p-2"},g.a.createElement("p",{className:"modal-card-title is-size-5 has-text-weight-semibold"},"Edit Profile")),g.a.createElement("section",{className:"modal-card-body p-0"},g.a.createElement("h2",{className:"pt-2 pb-1 has-text-weight-semibold"},"Add Specialty"),g.a.createElement("form",{className:""},h&&h.length>0?h.map((function(e,a){return d.includes(e.name)?g.a.createElement("div",{className:"is-inline-block",key:a},g.a.createElement("label",{className:"checkbox mr-3"},g.a.createElement("input",{defaultChecked:!0,type:"checkbox",id:"",name:e.name,value:e.name,onClick:function(){return ve("".concat(e._id))}})," ",e.name)):g.a.createElement("div",{className:"is-inline-block",key:a},g.a.createElement("label",{className:"checkbox mr-3"},g.a.createElement("input",{type:"checkbox",id:"",name:e.name,value:e.name,onClick:function(){return he("".concat(e._id))}})," ",e.name))})):"")),g.a.createElement("section",{className:"modal-card-body px-4 pt-0 pb-4"},g.a.createElement("hr",{className:"p-0 mt-2 mb-2"}),g.a.createElement("h2",{className:"has-text-weight-semibold"},"About Me"),g.a.createElement("textarea",{className:"textarea",maxLength:"150",placeholder:l,onChange:function(e){var a=e.target,t=(a.description,a.value);G({description:t})}})),g.a.createElement("footer",{className:"modal-card-foot p-2"},g.a.createElement("div",{className:"m-auto"},g.a.createElement("button",{className:"button is-small is-success",onClick:B},"Save"),g.a.createElement("button",{className:"button is-small is-success",onClick:D},"Exit")))))),g.a.createElement("footer",{className:"card-footer is-size-4 is-size-6-mobile"}))),g.a.createElement("div",{className:"column columns is-centered is-two-fifths-tablet is-two-thirds-mobile"},g.a.createElement("div",{className:"column columns is-full "},g.a.createElement("div",{className:"column is-full  ml-1 mt-2 mr-2"},g.a.createElement("div",{className:"aboutMeWrapper  "},g.a.createElement("h2",{className:"is-size-3 is-size-5-mobile"},n),g.a.createElement("p",{className:"is-size-5 is-size-7-mobile"},g.a.createElement("i",{class:"fas fa-camera-retro has-text-black"})," ",p),g.a.createElement("p",{className:"is-size-5 is-size-7-mobile"},g.a.createElement("a",{href:"mailto:".concat(t)},g.a.createElement("i",{className:"fas fa-envelope has-text-black"})," ",t)),g.a.createElement("span",{className:"is-size-5 is-size-7-mobile long-word-break"},l||"Tell us about yourself!")))))),g.a.createElement("div",{className:"columns is-centered has-text-centered is-mobile mx-2"},g.a.createElement("div",{className:"column is-three-fifths-tablet is-full-mobile"},g.a.createElement("div",{className:"columns is-mobile customMargin"},g.a.createElement("div",{className:"column is-two-fourths-mobile p-0 mr-1"},g.a.createElement("button",{className:"btnInProfile button is-size-7-mobile is-primary modal-button","data-target":"modal","aria-haspopup":"true",onClick:D},"Edit Profile")),g.a.createElement("div",{className:"column is-two-fourths-mobile p-0 ml-1"},g.a.createElement("button",{className:"btnInProfile button is-size-7-mobile has-text-light"},g.a.createElement(ie,{reloadFunc:u})))))),g.a.createElement("section",{className:"columns is-centered"},g.a.createElement("div",{className:"column is-three-fifths pb-0 pt-0"},g.a.createElement("div",{className:"tabs is-centered mt-5"},g.a.createElement("ul",null,g.a.createElement("li",{className:"is-pointer"},"Portfolio"))))),g.a.createElement("main",{className:"columns is-centered"},g.a.createElement("div",{className:"column columns is-three-fifths is-multiline is-mobile m-1 "},a&&a.length>0?a.map((function(e,a){return g.a.createElement("div",{key:a,className:"column is-one-third-tablet is-one-third-mobile imageWrapper p-1"},g.a.createElement("div",{className:"imageContainer"},g.a.createElement("a",{href:"javascript:void(0);"},g.a.createElement("img",{className:"portfolioImg",src:"/photo/".concat(e._id),onClick:function(){return a="".concat(e._id),Q(a),void Z(!Y);var a},alt:"Portfolio photo"}))))})):""),g.a.createElement("div",{className:"modal ".concat(ee)},g.a.createElement("div",{className:"modal-background",onClick:ae}),g.a.createElement("div",{className:"modal-content"},g.a.createElement("p",{className:"image is-fullwidth"},g.a.createElement("img",{src:"/photo/".concat(H),alt:"Portfolio photo modal"}))),g.a.createElement("button",{className:"modal-close is-large",onClick:ae,"aria-label":"close"})))))}),he=(t(120),function(e){var a,t=K.getProfile(),n=Object(ce.a)(me,{variables:{userId:t.data._id}}),r=n.loading,l=n.data;r||(a=l.userPhotos.following,console.log(a));var s,o,i,c,m,u,d=Object(N.f)().id,p=Object(ce.a)(me,{variables:{userId:d}}),b=p.loading,h=p.data;b||(s=h.userPhotos._id,o=h.userPhotos.photos,i=h.userPhotos.email,c=h.userPhotos.username,m=h.userPhotos.profilePhoto,u=h.userPhotos.description);var v=Object(f.useState)(""),E=Object(P.a)(v,2),j=E[0],w=E[1],O=Object(f.useState)(!1),k=Object(P.a)(O,2),x=k[0],y=k[1],S=x?"is-active":"",_=function(){y(!x)},z=Object(q.a)(W),$=Object(P.a)(z,1)[0],F=Object(q.a)(L),D=Object(P.a)(F,1)[0],U=Object(q.a)(A),T=Object(P.a)(U,1)[0],M=Object(q.a)(G),B=Object(P.a)(M,1)[0],R=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$({variables:{id:s}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:return e.prev=8,e.next=11,T({variables:{id:s}});case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.error(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D({variables:{id:s}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:return e.prev=8,e.next=11,B({variables:{id:s}});case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.error(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(){return e.apply(this,arguments)}}();return g.a.createElement(g.a.Fragment,null,b?g.a.createElement("div",null,"Some Loading Icon etc"):g.a.createElement(g.a.Fragment,null,g.a.createElement("header",{className:"columns is-centered is-gapless is-mobile pl-2"},g.a.createElement("div",{className:"column is-one-fifth-tablet is-one-third-mobile mt-2"},g.a.createElement("div",{className:""},g.a.createElement("div",{className:"imageContainer"},m?g.a.createElement("img",{src:"/photo/".concat(m._id),className:"profilePic p-3 portfolioImg",alt:"Profile picture"}):g.a.createElement("img",{src:"/images/Profiles/user.png",className:"profilePic p-3 portfolioImg",alt:"Profile picture"})))),g.a.createElement("div",{className:"column columns is-centered is-two-fifths-tablet is-two-thirds-mobile"},g.a.createElement("div",{className:"column columns is-full "},g.a.createElement("div",{className:"column is-full  ml-1 mt-2 mr-2"},g.a.createElement("div",{className:"aboutMeWrapper"},g.a.createElement("h2",{className:"is-size-3 is-size-5-mobile"},c),g.a.createElement("span",{className:"is-size-5 is-size-7-mobile long-word-break"},u||"")),g.a.createElement("div",{className:"manageBtnWrapper"}))))),g.a.createElement("div",{className:"columns is-centered has-text-centered is-mobile mx-2"},g.a.createElement("div",{className:"column is-three-fifths-tablet is-full-mobile"},g.a.createElement("div",{className:"columns is-mobile customMargin"},g.a.createElement("div",{className:"column is-two-fourths-mobile p-0 mr-1"},a.some((function(e){return e._id===s}))?g.a.createElement("button",{className:"btnInProfile button is-size-7-mobile is-primary",onClick:J},"Unfollow"):g.a.createElement("button",{className:"btnInProfile button is-size-7-mobile is-primary",onClick:R},"Follow")),g.a.createElement("div",{className:"column is-two-fourths-mobile p-0 ml-1"},g.a.createElement("a",{href:"mailto:".concat(i)},g.a.createElement("button",{className:"btnInProfile button is-size-7-mobile has-text-light"},"Email")))))),g.a.createElement("section",{className:"columns is-centered"},g.a.createElement("div",{className:"column is-three-fifths pb-0 pt-0"},g.a.createElement("div",{className:"tabs is-centered mt-5"},g.a.createElement("ul",null,g.a.createElement("li",{className:"is-pointer"},"Portfolio"))))),g.a.createElement("main",{className:"columns is-centered"},g.a.createElement("div",{className:"column columns is-three-fifths is-multiline is-mobile m-1 "},o&&o.length>0?o.map((function(e,a){return g.a.createElement("div",{key:a,className:"column is-one-third-tablet is-one-third-mobile imageWrapper p-1"},g.a.createElement("div",{className:"imageContainer"},g.a.createElement("a",{href:"javascript:void(0);"},g.a.createElement("img",{className:"portfolioImg",src:"/photo/".concat(e._id),onClick:function(){return function(e){w(e),y(!x)}("".concat(e._id))},alt:"Portfolio photo"}))))})):""),g.a.createElement("div",{className:"modal ".concat(S)},g.a.createElement("div",{className:"modal-background",onClick:_}),g.a.createElement("div",{className:"modal-content"},g.a.createElement("p",{className:"image is-fullwidth"},g.a.createElement("img",{src:"/photo/".concat(j),alt:"Portfolio photo modal"}))),g.a.createElement("button",{className:"modal-close is-large",onClick:_,"aria-label":"close"})))))}),ve=Object(x.a)({uri:"/graphql"}),Ee=Object(k.a)((function(e,a){var t=a.headers,n=localStorage.getItem("id_token");return{headers:Object(v.a)(Object(v.a)({},t),{},{authorization:n?"Bearer ".concat(n):""})}})),Ne=new j.a({link:Ee.concat(ve),cache:new w.a});var je=function(){return g.a.createElement(O.a,{client:Ne},g.a.createElement(E.a,null,g.a.createElement("div",null,g.a.createElement(te,null),g.a.createElement(N.c,null,g.a.createElement(N.a,{exact:!0,path:"/",component:X}),g.a.createElement(N.a,{exact:!0,path:"/dashboard",component:fe}),g.a.createElement(N.a,{exact:!0,path:"/profile",component:be}),g.a.createElement(N.a,{exact:!0,path:"/photographer/:id",component:he}),g.a.createElement(N.a,{exact:!0,path:"/signup",component:ae}),g.a.createElement(N.a,{exact:!0,path:"/add",component:ie}),g.a.createElement(N.a,{component:Z})))))},we=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}h.a.render(g.a.createElement(g.a.StrictMode,null,g.a.createElement(je,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");we?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Oe(a,e)}))}}()},79:function(e,a,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.5491127c.chunk.js.map